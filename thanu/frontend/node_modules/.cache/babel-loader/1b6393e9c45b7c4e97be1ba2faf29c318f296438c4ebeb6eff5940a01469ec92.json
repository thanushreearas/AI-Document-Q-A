{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\Desktop\\\\python project\\\\we\\\\thanu\\\\frontend\\\\src\\\\components\\\\DocumentUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { documentsAPI } from '../utils/api';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DocumentUpload = ({\n  onUploadSuccess\n}) => {\n  _s();\n  const [uploading, setUploading] = useState(false);\n  const onDrop = async acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (!file) return;\n\n    // Validate file size (1GB limit)\n    if (file.size > 1024 * 1024 * 1024) {\n      toast.error('File size must be less than 1GB');\n      return;\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain'];\n    if (!allowedTypes.includes(file.type)) {\n      toast.error('Only PDF, DOCX, and TXT files are allowed');\n      return;\n    }\n    setUploading(true);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await documentsAPI.upload(formData);\n      toast.success('Document uploaded successfully!');\n      if (onUploadSuccess) {\n        onUploadSuccess(response.data.document);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Upload error:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf'],\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n      'text/plain': ['.txt']\n    },\n    multiple: false,\n    disabled: uploading\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"card-title\",\n        children: \"Upload Document\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      style: {\n        border: '2px dashed var(--primary-blue)',\n        borderRadius: '0.5rem',\n        padding: '2rem',\n        textAlign: 'center',\n        cursor: uploading ? 'not-allowed' : 'pointer',\n        backgroundColor: isDragActive ? 'var(--bg-blue)' : 'var(--white)',\n        transition: 'all 0.3s'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), uploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\",\n          style: {\n            margin: '0 auto 1rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Uploading and processing document...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '3rem',\n            marginBottom: '1rem'\n          },\n          children: \"\\uD83D\\uDCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), isDragActive ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Drop the document here...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Click to select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 36\n            }, this), \" or drag and drop a document\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'var(--gray-600)',\n              marginTop: '0.5rem'\n            },\n            children: \"Supports PDF, DOCX, TXT files (up to 1GB)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(DocumentUpload, \"ilS6CM1jswXsBT8hphORGDawEYg=\", false, function () {\n  return [useDropzone];\n});\n_c = DocumentUpload;\nexport default DocumentUpload;\nvar _c;\n$RefreshReg$(_c, \"DocumentUpload\");","map":{"version":3,"names":["React","useState","useDropzone","documentsAPI","toast","jsxDEV","_jsxDEV","DocumentUpload","onUploadSuccess","_s","uploading","setUploading","onDrop","acceptedFiles","file","size","error","allowedTypes","includes","type","formData","FormData","append","response","upload","success","data","document","_error$response","_error$response$data","console","getRootProps","getInputProps","isDragActive","accept","multiple","disabled","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","border","borderRadius","padding","textAlign","cursor","backgroundColor","transition","margin","fontSize","marginBottom","color","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/moham/Desktop/python project/we/thanu/frontend/src/components/DocumentUpload.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { documentsAPI } from '../utils/api';\nimport { toast } from 'react-toastify';\n\nconst DocumentUpload = ({ onUploadSuccess }) => {\n    const [uploading, setUploading] = useState(false);\n\n    const onDrop = async (acceptedFiles) => {\n        const file = acceptedFiles[0];\n        if (!file) return;\n\n        // Validate file size (1GB limit)\n        if (file.size > 1024 * 1024 * 1024) {\n            toast.error('File size must be less than 1GB');\n            return;\n        }\n\n        // Validate file type\n        const allowedTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain'];\n        if (!allowedTypes.includes(file.type)) {\n            toast.error('Only PDF, DOCX, and TXT files are allowed');\n            return;\n        }\n\n        setUploading(true);\n        \n        try {\n            const formData = new FormData();\n            formData.append('file', file);\n\n            const response = await documentsAPI.upload(formData);\n            toast.success('Document uploaded successfully!');\n            \n            if (onUploadSuccess) {\n                onUploadSuccess(response.data.document);\n            }\n        } catch (error) {\n            console.error('Upload error:', error);\n            toast.error(error.response?.data?.error || 'Upload failed');\n        } finally {\n            setUploading(false);\n        }\n    };\n\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\n        onDrop,\n        accept: {\n            'application/pdf': ['.pdf'],\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n            'text/plain': ['.txt']\n        },\n        multiple: false,\n        disabled: uploading\n    });\n\n    return (\n        <div className=\"card\">\n            <div className=\"card-header\">\n                <h3 className=\"card-title\">Upload Document</h3>\n            </div>\n            \n            <div\n                {...getRootProps()}\n                style={{\n                    border: '2px dashed var(--primary-blue)',\n                    borderRadius: '0.5rem',\n                    padding: '2rem',\n                    textAlign: 'center',\n                    cursor: uploading ? 'not-allowed' : 'pointer',\n                    backgroundColor: isDragActive ? 'var(--bg-blue)' : 'var(--white)',\n                    transition: 'all 0.3s'\n                }}\n            >\n                <input {...getInputProps()} />\n                \n                {uploading ? (\n                    <div>\n                        <div className=\"spinner\" style={{ margin: '0 auto 1rem' }}></div>\n                        <p>Uploading and processing document...</p>\n                    </div>\n                ) : (\n                    <div>\n                        <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>ðŸ“„</div>\n                        {isDragActive ? (\n                            <p>Drop the document here...</p>\n                        ) : (\n                            <div>\n                                <p><strong>Click to select</strong> or drag and drop a document</p>\n                                <p style={{ color: 'var(--gray-600)', marginTop: '0.5rem' }}>\n                                    Supports PDF, DOCX, TXT files (up to 1GB)\n                                </p>\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default DocumentUpload;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,YAAY,QAAQ,cAAc;AAC3C,SAASC,KAAK,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMW,MAAM,GAAG,MAAOC,aAAa,IAAK;IACpC,MAAMC,IAAI,GAAGD,aAAa,CAAC,CAAC,CAAC;IAC7B,IAAI,CAACC,IAAI,EAAE;;IAEX;IACA,IAAIA,IAAI,CAACC,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,EAAE;MAChCX,KAAK,CAACY,KAAK,CAAC,iCAAiC,CAAC;MAC9C;IACJ;;IAEA;IACA,MAAMC,YAAY,GAAG,CAAC,iBAAiB,EAAE,yEAAyE,EAAE,YAAY,CAAC;IACjI,IAAI,CAACA,YAAY,CAACC,QAAQ,CAACJ,IAAI,CAACK,IAAI,CAAC,EAAE;MACnCf,KAAK,CAACY,KAAK,CAAC,2CAA2C,CAAC;MACxD;IACJ;IAEAL,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACA,MAAMS,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAER,IAAI,CAAC;MAE7B,MAAMS,QAAQ,GAAG,MAAMpB,YAAY,CAACqB,MAAM,CAACJ,QAAQ,CAAC;MACpDhB,KAAK,CAACqB,OAAO,CAAC,iCAAiC,CAAC;MAEhD,IAAIjB,eAAe,EAAE;QACjBA,eAAe,CAACe,QAAQ,CAACG,IAAI,CAACC,QAAQ,CAAC;MAC3C;IACJ,CAAC,CAAC,OAAOX,KAAK,EAAE;MAAA,IAAAY,eAAA,EAAAC,oBAAA;MACZC,OAAO,CAACd,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrCZ,KAAK,CAACY,KAAK,CAAC,EAAAY,eAAA,GAAAZ,KAAK,CAACO,QAAQ,cAAAK,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBb,KAAK,KAAI,eAAe,CAAC;IAC/D,CAAC,SAAS;MACNL,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,MAAM;IAAEoB,YAAY;IAAEC,aAAa;IAAEC;EAAa,CAAC,GAAG/B,WAAW,CAAC;IAC9DU,MAAM;IACNsB,MAAM,EAAE;MACJ,iBAAiB,EAAE,CAAC,MAAM,CAAC;MAC3B,yEAAyE,EAAE,CAAC,OAAO,CAAC;MACpF,YAAY,EAAE,CAAC,MAAM;IACzB,CAAC;IACDC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE1B;EACd,CAAC,CAAC;EAEF,oBACIJ,OAAA;IAAK+B,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACjBhC,OAAA;MAAK+B,SAAS,EAAC,aAAa;MAAAC,QAAA,eACxBhC,OAAA;QAAI+B,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC,eAENpC,OAAA;MAAA,GACQyB,YAAY,CAAC,CAAC;MAClBY,KAAK,EAAE;QACHC,MAAM,EAAE,gCAAgC;QACxCC,YAAY,EAAE,QAAQ;QACtBC,OAAO,EAAE,MAAM;QACfC,SAAS,EAAE,QAAQ;QACnBC,MAAM,EAAEtC,SAAS,GAAG,aAAa,GAAG,SAAS;QAC7CuC,eAAe,EAAEhB,YAAY,GAAG,gBAAgB,GAAG,cAAc;QACjEiB,UAAU,EAAE;MAChB,CAAE;MAAAZ,QAAA,gBAEFhC,OAAA;QAAA,GAAW0B,aAAa,CAAC;MAAC;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,EAE7BhC,SAAS,gBACNJ,OAAA;QAAAgC,QAAA,gBACIhC,OAAA;UAAK+B,SAAS,EAAC,SAAS;UAACM,KAAK,EAAE;YAAEQ,MAAM,EAAE;UAAc;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjEpC,OAAA;UAAAgC,QAAA,EAAG;QAAoC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC,gBAENpC,OAAA;QAAAgC,QAAA,gBACIhC,OAAA;UAAKqC,KAAK,EAAE;YAAES,QAAQ,EAAE,MAAM;YAAEC,YAAY,EAAE;UAAO,CAAE;UAAAf,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EAC/DT,YAAY,gBACT3B,OAAA;UAAAgC,QAAA,EAAG;QAAyB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEhCpC,OAAA;UAAAgC,QAAA,gBACIhC,OAAA;YAAAgC,QAAA,gBAAGhC,OAAA;cAAAgC,QAAA,EAAQ;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,gCAA4B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnEpC,OAAA;YAAGqC,KAAK,EAAE;cAAEW,KAAK,EAAE,iBAAiB;cAAEC,SAAS,EAAE;YAAS,CAAE;YAAAjB,QAAA,EAAC;UAE7D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACR;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACjC,EAAA,CA9FIF,cAAc;EAAA,QAwCsCL,WAAW;AAAA;AAAAsD,EAAA,GAxC/DjD,cAAc;AAgGpB,eAAeA,cAAc;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}